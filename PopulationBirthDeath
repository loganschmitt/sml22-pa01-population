import numpy as np
import pandas as pd
import matplotlib.pyplot as plt
import math

def sigmoid(x):
    return 1 / (1 + np.exp(-x))

##Reading in the data and cleaning it
with open('BirthsandDeathRates.csv', 'r') as f:
     lines = f.readlines()
birth_rates =[]
death_rates = []
for i in range(51, 73):
    #print(lines[i])
    birth_rates.append(float(lines[i].split(',')[2]))
    death_rates.append(float(lines[i].split(',')[3]))
years = list(range(2000, 2022))

##Converting the arrays to numpy arrays and reshaping the x-axis as well as flattening the arrays into 1D as opposed to 2D
years = np.array(years).reshape(-1, 1).flatten()
birth_rates = np.array(birth_rates).flatten()
death_rates = np.array(death_rates).flatten()

plt.plot(years, birth_rates, label='Birth Rates')
plt.show()
plt.plot(years, death_rates, label='Death Rates')
plt.show()

sigmoided_birth_rates = sigmoid(birth_rates)
sigmoided_death_rates = sigmoid(death_rates)

plt.plot(years, sigmoided_birth_rates, label='Sigmoid Birth Rates')
plt.show()
plt.plot(years, sigmoided_death_rates, label='Sigmoid Death Rates')
plt.show()
